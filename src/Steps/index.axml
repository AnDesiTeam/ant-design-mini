<import-sjs from="./index.sjs" name="utils" />

<view class="amd-v1-steps amd-v1-steps-{{direction}} {{className ? className : ''}}" style="{{style}}" onTap="onChange">
  <view a:for="{{items}}"
    class="amd-v1-steps-item amd-v1-steps-item-{{direction}} 
    {{index < current? 'amd-v1-steps-item-finish' : ''}} 
    {{index === current? 'amd-v1-steps-item-active' : ''}} 
    {{index > current? 'amd-v1-steps-item-non-active' : ''}}"
  >
    <view class="amd-v1-steps-item-indicator amd-v1-steps-item-indicator-{{direction}}">
      <view class="amd-v1-steps-item-indicator-icon amd-v1-steps-item-{{utils.getClassName(current, index, status)}}-icon">
        <slot name="icon" value="{{item}}" index="{{index}}" current="{{current}}" status="{{status}}">
          <view class="amd-v1-steps-item-{{utils.getClassName(current, index, status)}}-icon-default" />
        </slot>
      </view>
    </view>
    <view class="amd-v1-steps-item-text">
      <view class="amd-v1-steps-item-title amd-v1-steps-item-title-{{utils.getClassName(current, index, status)}}">
         <slot name="title" value="{{item}}" index="{{index}}">
          {{item.title}}
        </slot>
      </view>
      <view class="amd-v1-steps-item-desc">
        <slot name="description" value="{{item}}" index="{{index}}">
          {{item.description}}
        </slot>
      </view>
    </view>
  </view>

</view>
